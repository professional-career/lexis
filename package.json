{
  "name": "@lexis/root",
  "private": true,
  "scripts": {
    "// --- COMANDOS MAESTROS ---": "",
    "dev": "pnpm db:up && concurrently -k -n \"DB,API,WEB\" -c \"yellow,magenta,cyan\" \"pnpm db:watch\" \"pnpm api:dev\" \"pnpm web:dev\"",
    "prod": "docker-compose -f docker-compose.prod.yml up --build",
    "build:all": "pnpm db:build && pnpm api:build && pnpm web:build",
    
    "// --- BASE DE DATOS (PRISMA & DOCKER) ---": "",
    "db:up": "docker-compose up -d postgres",
    "db:down": "docker-compose down",
    "db:logs": "docker logs -f mono_database",
    "db:nuke": "docker-compose down -v",
    "db:generate": "pnpm --filter @lexis/database run db:generate",
    "db:migrate": "pnpm --filter @lexis/database run db:migrate",
    "db:watch": "pnpm --filter @lexis/database exec prisma generate --watch",
    "db:build": "pnpm --filter @lexis/database run build",
    "db:enable": "node tools/enable-db.js",
    
    "// --- GENERADORES (DX) ---": "",
    "api:res": "pnpm --filter api exec nest g resource",
    "api:g": "pnpm --filter api exec nest g",
    "web:c": "pnpm --filter client exec ng g c",
    "web:s": "pnpm --filter client exec ng g s",
    "web:g": "pnpm --filter client exec ng g",
    "create:angular": "node tools/create-pkg.js angular",
    "create:astro": "node tools/create-pkg.js astro",
    "create:next": "node tools/create-pkg.js next",
    "create:vite": "node tools/create-pkg.js vite",
    "create:nest": "node tools/create-pkg.js nest",
    
    "// --- ATAJOS A LOS PROYECTOS ---": "",
    "generate:env": "node tools/set-env.js",
    "api:format": "pnpm --filter api run format",
    "api:dev": "wait-on tcp:5432 && pnpm --filter api run start:dev",
    "api:build": "pnpm --filter api run build",
    "web:dev": "pnpm generate:env && pnpm --filter client run start",
    "web:build": "pnpm generate:env && pnpm --filter client run build",
    "postinstall": "node tools/setup.js && pnpm run generate:env"
  },
  "devDependencies": {
    "concurrently": "^9.2.1",
    "cross-env": "^10.1.0",
    "dotenv": "^17.2.3",
    "wait-on": "^9.0.3"
  }
}
